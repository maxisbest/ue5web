<p><strong>blueprints初级教程-1-崇礼v3</strong></p><table><tr><td><p>Max的课程对设备有各种要求. 所以, </p><ul><li>建议准备一个 Pad, 用Pad看教程, 用Mac或者PC实际操作. </li><li>英文不太好的同学, 不建议学习本课程.</li></ul></td></tr></table><p>1. <strong>项目最终结果演示</strong></p><p>2. <strong>安装和打开Unreal Engine 5</strong></p><ul><li>√安装和打开Unreal Engine 5; 创建一个名为LearnBP的项目。</li></ul><p><img src="1.png" /></p><p><img src="2.png" /></p><ul><li>Play一下. </li></ul><p><img src="3.png" /></p><p><img src="4.png" /></p><p>3. <strong>创建一个Blueprint</strong></p><ul><li>√打开content drawer.</li></ul><p><img src="5.png" /></p><ul><li>添加一个文件夹, 取名Blueprints.</li></ul><table><tr><td><p><img src="6.png" /></p><p><strong>在文件夹中添加一个 Blueprint</strong></p></td><td><p><img src="7.png" /></p></td></tr></table><table><tr><td><p>下面将按照图示在Blueprints文件夹中中添加一个Blueprint; 取名BP_Test; 父类设置为Actor; 并双击打开进行编辑。</p></td></tr></table><ul><li>右键点击 Blueprints 文件夹, 然后按照下图选择 Add/Import Content, 再选择 Blueprint Class.</li></ul><p><img src="8.png" /></p><ul><li>√选择 Actor作为这个 Blueprint的父类.</li></ul><p><img src="9.png" /></p><ul><li>√把新建的 Blueprint 改名为 BP_Test.</li></ul><p><img src="10.png" /></p><ul><li>在文件夹中双击 BP_Test 打开这个蓝图进行编辑。</li><li>把 BP_Test 标签页(tab)拖到ThirdPersonMap旁边。</li></ul><p><img src="11.png" /></p><p><img src="12.png" /></p><p><strong>给BP添加一个球体.</strong></p><ul><li>在 Components 下面选中BP_Test; 点击Add; 输入sphe; 从提示中选择Sphere; 别选成 Sphere Collision 了.</li></ul><table><tr><td><p><img src="13.png" /></p></td><td><p><img src="14.png" /></p></td></tr></table><ul><li>添加 Sphere 之后, Components 下面是这样 ↓</li></ul><p><img src="15.png" /></p><ul><li>compile, save.</li></ul><table><tr><td><p><img src="16.png" /></p></td><td><p><img src="17.png" /></p></td></tr></table><ul><li>切换到ThirdPersonMap; 把BP拖到ThirdPersonMap中.</li></ul><p><img src="18.png" /></p><p>4. <strong>修改BP</strong></p><ul><li>设置BP的大小。点击 BP_Test 标签, 回到BP_Test蓝图界面; 选中Sphere; 找到Details标签; 把Scale的(x, y, z)的值都设置为0.5。这样能够把球体变小。</li></ul><p><img src="19.png" /></p><ul><li>在 Details 中找到 Simulate Physics(模拟物理), 勾选.</li></ul><p><img src="20.png" /></p><ul><li>save; compile</li><li>回到地图, Play, 这时的球应该可以踢了。</li></ul><p>5. <strong>Event Graph</strong></p><ul><li>找到 BP_Test 的Event Graph 标签, 点击. 在<strong>画布</strong>的空白处按下鼠标右键, 可以拖动整个画布。</li></ul><p><img src="21.png" /></p><ul><li>删除事件 Event BeginPlay. (Ctrl + Z 可以撤销删除).</li></ul><p><img src="22.png" /></p><ul><li>添加事件的方法: 右键点击空白处, 搜索要添加的事件node. 也可以移动node.</li></ul><p><img src="23.png" /></p><p>6. <strong>BeginPlay事件研究</strong></p><ul><li>对于BP_Test, 一旦我们开始游戏, 就会执行这个Event BeginPlay事件. 对于新出生(spawn)的actor, 也会在spawn时候触发这个事件.</li></ul><table><tr><td><p>对于BP_Test, 一旦游戏开始Play, 就会执行Event BeginPlay事件. 对于新出生的actor, 也会在出生时(spawn)触发这个事件.</p></td></tr></table><p><strong>Print String, 下面的任务是在游戏界面上打印&quot;您好!&quot;.</strong></p><ul><li>参考下面的图示, 从Event BeginPlay的引脚拖出一根线;</li><li>搜索<strong>Print String</strong>动作(action)并选择; </li><li>把 In String 参数设置为您好!; </li><li>compile save ; </li><li>切换到Map中去执行. </li></ul><p><img src="24.png" /></p><p><img src="25.png" /></p><ul><li>执行时能够看到 ↓</li></ul><p><img src="26.png" /></p><table><tr><td><p>如果我们在地图中放置多个BP_Test, 会多次打印您好!。</p></td></tr></table><ul><li>在Map的Outliner中找到添加的BP_Test, 按delete键删除它们.</li></ul><p><img src="27.png" /></p><p><strong>Get World Scale</strong></p><ul><li>在Details中查看 Sphere 的 scale; </li><li>把Sphere拖到编辑器中; 从引脚中引出Get World Scale; </li><li>连接 Return Value 和 In String; </li><li>展开Development Only, 将持续时间(Duration)设置为5.0秒. </li></ul><table><tr><td><p>注意这个 Event Graph 是属于 BP_Test 的. <strong>Get World Scale</strong>是从Sphere引出的, 因此它的意思是获得 Sphere 在 World 中的 Scale</p></td></tr></table><p><img src="28.png" /></p><p><img src="29.png" /></p><ul><li> compile save. 到地图中Play. 这是一种很好的调试方法。</li></ul><p><img src="30.png" /></p><p>7. <strong>更改BP的材质(Material)</strong></p><ul><li>选中Component中的Sphere, </li><li>在Details中导航到Sphere的材质(Material); </li><li>更改其材质为M_Brick_Clay_New; </li><li>在Map中查看更改效果; 用ctrl+z把材质再改回BasicShapeMaterial。</li></ul><p><img src="31.png" /></p><p><img src="32.png" /></p><p><img src="33.png" /></p><p><strong>Set Material</strong></p><ul><li>回到Event Graph, 我们来用脚本改变材质. </li></ul><p><img src="34.png" /></p><ul><li>接上图, 在Print String之后, Set Material ↓</li></ul><p><img src="35.png" /></p><ul><li>Play, 测试一下.</li></ul><p>8. <strong>Construction Script</strong></p><p>Construction Script相当于构造函数。在 construction script 中也可以更改Sphere的材质。 construction script类似构造函数. 可以预先做出蓝图的实例.</p><p><img src="36.png" /></p><ul><li>在Even Graph中框选Blueprint代码; ctrl+c复制; 拷贝到Construction Script的画布上.</li></ul><p><img src="37.png" /></p><p><img src="38.png" /></p><ul><li>依照下图改造一下这个BP; Save; Compile.</li></ul><p><img src="39.png" /></p><ul><li>观察. 发现不用开始游戏, 在编辑器中球就变成金黄色的了。但是看不到Location的三维坐标的显示.</li><li>打开Output Log, 拖动Sphere的时候, 可以观察到其坐标的改变.</li></ul><p><img src="40.png" /></p><table><tr><td><p>Construction Script的作用是, 可以预修改Asset的一些属性, 而不是在游戏开始后修改。一个用途是: 让金色的球在空间随机分布; 或者让草木在庭院中随机分布。</p></td></tr></table><p>9. <strong>Event Tick</strong></p><ul><li>Tick事件每帧都会执行. 计算机每秒钟一般能运行30到300帧, 这就是帧率(FPS, Frame Per Second)。执行Tick事件需要时间, 因此为了保证游戏的流畅度, 最好只是在必要的时候才使用Tick。</li><li>查看游戏的FPS(Frame Per Second).</li></ul><p><img src="41.png" /></p><ul><li>Play, 可以看到游戏的帧率.</li></ul><p><img src="42.png" /></p><p>10. <strong>Text Color -- 显示有色彩的文本. </strong></p><p><strong>Random Array Item</strong></p><ul><li>按住 Text Color 前面的引脚, 往左边拖动 ↓</li></ul><p><img src="43.png" /></p><ul><li>选择Random Array Item.</li></ul><p><img src="44.png" /></p><p><img src="45.png" /></p><p><strong>Make Array</strong></p><ul><li>Make Array.</li></ul><p><img src="46.png" /></p><p><img src="47.png" /></p><ul><li>设置颜色</li><li>点击下图所示的方框,</li><li>设置颜色的Value, </li><li>设置饱和度(Saturation).</li></ul><p><img src="48.png" /></p><ul><li>点击 Pin, 再增加两个元素; 并设置好颜色和饱和度.</li><li>连上Event Tick。Compile, Save。Play。</li></ul><p><img src="49.png" /></p><p><img src="50.png" /></p><ul><li>使用cmd强制把FPS设为5. 可以看到输出Hello的速度明显慢了很多。而且游戏的流畅度感觉也差了很多.</li></ul><p><img src="51.png" /></p><ul><li>将FPS设为0, 恢复到正常状态。</li></ul><p><img src="52.png" /></p>